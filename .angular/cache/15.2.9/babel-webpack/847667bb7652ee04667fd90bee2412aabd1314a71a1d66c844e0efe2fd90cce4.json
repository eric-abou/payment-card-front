{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/payment-detail.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../PaymentDetails/payment-detail-form/payment-detail-form.component\";\nfunction PaymentDetailsComponent_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 7)(8, \"div\", 8)(9, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function PaymentDetailsComponent_tr_23_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const pay_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDelete(pay_r1.paymentId));\n    });\n    i0.ɵɵelement(10, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function PaymentDetailsComponent_tr_23_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const pay_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.populateForm(pay_r1));\n    });\n    i0.ɵɵelement(12, \"i\", 12);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const pay_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pay_r1.cardOwnerName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pay_r1.cardNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(pay_r1.expirationDate);\n  }\n}\nexport class PaymentDetailsComponent {\n  constructor(paymentService, toastr) {\n    this.paymentService = paymentService;\n    this.toastr = toastr;\n  }\n  ngOnInit() {\n    this.paymentService.refreshList();\n  }\n  populateForm(selectedRecord) {\n    this.paymentService.formData = Object.assign({}, selectedRecord);\n  }\n  onDelete(id) {\n    if (confirm('Are you sure to delete this record ?')) {\n      this.paymentService.deletePayment(id).subscribe({\n        next: res => {\n          this.paymentService.list = res;\n          this.toastr.error(\"Deleted successfull !\", \"Payment Card\");\n        },\n        error: err => {\n          console.log(err);\n        }\n      });\n    }\n  }\n}\n_class = PaymentDetailsComponent;\n_class.ɵfac = function PaymentDetailsComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.PaymentDetailService), i0.ɵɵdirectiveInject(i2.ToastrService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-payment-details\"]],\n  decls: 24,\n  vars: 1,\n  consts: [[1, \"row\", \"mt-5\"], [1, \"col-md-6\"], [1, \"card\", \"p-4\"], [1, \"mb-4\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"text-center\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-center\"], [\"role\", \"group\", 1, \"btn-group\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"fa-solid\", \"fa-trash\"], [1, \"btn\", \"btn-warning\", \"btn-sm\", 3, \"click\"], [1, \"fa-solid\", \"fa-pen-to-square\"]],\n  template: function PaymentDetailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n      i0.ɵɵtext(4, \"Payment Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-payment-detail-form\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 1)(7, \"div\", 2)(8, \"h2\", 3);\n      i0.ɵɵtext(9, \"List of Payments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"table\", 5)(12, \"thead\")(13, \"tr\")(14, \"th\");\n      i0.ɵɵtext(15, \"Card Owner Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"Card Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Expiration Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(22, \"tbody\");\n      i0.ɵɵtemplate(23, PaymentDetailsComponent_tr_23_Template, 13, 3, \"tr\", 6);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.paymentService.list);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.PaymentDetailFormComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAqBwBA,0BAA4C;IACpCA,YAAqB;IAAAA,iBAAK;IAC9BA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAAsB;IAAAA,iBAAK;IAC/BA,6BAAwB;IAE2BA;MAAA;MAAA;MAAA;MAAA,OAASA,gDAAuB;IAAA,EAAC;IACxEA,yBAAiC;IACrCA,iBAAS;IACTA,mCAAmE;IAA5BA;MAAA;MAAA;MAAA;MAAA,OAASA,0CAAiB;IAAA,EAAC;IAC9DA,yBAAyC;IAC7CA,iBAAS;;;;IAVbA,eAAqB;IAArBA,0CAAqB;IACrBA,eAAkB;IAAlBA,uCAAkB;IAClBA,eAAsB;IAAtBA,2CAAsB;;;ACbtD,OAAM,MAAOC,uBAAuB;EAElCC,YAAmBC,cAAoC,EAAUC,MAAqB;IAAnE,mBAAc,GAAdD,cAAc;IAAgC,WAAM,GAANC,MAAM;EAAmB;EAE1FC,QAAQ;IACN,IAAI,CAACF,cAAc,CAACG,WAAW,EAAE;EACnC;EAEAC,YAAY,CAACC,cAA6B;IACxC,IAAI,CAACL,cAAc,CAACM,QAAQ,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEH,cAAc,CAAC;EAClE;EAEAI,QAAQ,CAACC,EAAU;IACjB,IAAIC,OAAO,CAAC,sCAAsC,CAAC,EAAE;MACnD,IAAI,CAACX,cAAc,CAACY,aAAa,CAACF,EAAE,CAAC,CAClCG,SAAS,CAAC;QACTC,IAAI,EAAEC,GAAG,IAAG;UACV,IAAI,CAACf,cAAc,CAACgB,IAAI,GAAGD,GAAsB;UACjD,IAAI,CAACd,MAAM,CAACgB,KAAK,CAAC,uBAAuB,EAAE,cAAc,CAAC;QAC5D,CAAC;QACDA,KAAK,EAAEC,GAAG,IAAG;UAAGC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;QAAC;OAClC,CAAC;;EAER;;SAvBWpB,uBAAuB;;mBAAvBA,MAAuB;AAAA;;QAAvBA,MAAuB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDXpC5B,8BAAsB;MAGOA,+BAAe;MAAAA,iBAAK;MACrCA,0CAAmD;MACvDA,iBAAM;MAEVA,8BAAsB;MAEGA,gCAAgB;MAAAA,iBAAK;MACtCA,+BAA8B;MAIVA,gCAAe;MAAAA,iBAAK;MACxBA,2BAAI;MAAAA,4BAAW;MAAAA,iBAAK;MACpBA,2BAAI;MAAAA,gCAAe;MAAAA,iBAAK;MACxBA,2BAAI;MAAAA,uBAAM;MAAAA,iBAAK;MAGvBA,8BAAO;MACHA,yEAcK;MACTA,iBAAQ;;;MAfgBA,gBAAsB;MAAtBA,iDAAsB","names":["i0","PaymentDetailsComponent","constructor","paymentService","toastr","ngOnInit","refreshList","populateForm","selectedRecord","formData","Object","assign","onDelete","id","confirm","deletePayment","subscribe","next","res","list","error","err","console","log","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\projet\\payment-card-app\\payment-card-app\\src\\app\\payment-details\\payment-details.component.html","D:\\projet\\payment-card-app\\payment-card-app\\src\\app\\payment-details\\payment-details.component.ts"],"sourcesContent":["<div class=\"row mt-5\">\n    <div class=\"col-md-6\">\n        <div class=\"card p-4\">\n            <h2 class=\"mb-4\">Payment Details</h2>\n            <app-payment-detail-form></app-payment-detail-form>\n        </div>\n    </div>\n    <div class=\"col-md-6\">\n        <div class=\"card p-4\">\n            <h2 class=\"mb-4\">List of Payments</h2>\n            <div class=\"table-responsive\">\n                <table class=\"table table-striped text-center\">\n                    <thead>\n                        <tr>\n                            <th>Card Owner Name</th>\n                            <th>Card Number</th>\n                            <th>Expiration Date</th>\n                            <th>Action</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr *ngFor=\"let pay of paymentService.list\">\n                            <td>{{pay.cardOwnerName}}</td>\n                            <td>{{pay.cardNumber}}</td>\n                            <td>{{pay.expirationDate}}</td>\n                            <td class=\"text-center\">\n                                <div class=\"btn-group\" role=\"group\">\n                                    <button class=\"btn btn-danger btn-sm me-2\" (click)=\"onDelete(pay.paymentId)\">\n                                        <i class=\"fa-solid fa-trash\"></i>\n                                    </button>\n                                    <button class=\"btn btn-warning btn-sm\" (click)=\"populateForm(pay)\">\n                                        <i class=\"fa-solid fa-pen-to-square\"></i>\n                                    </button>\n                                </div>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { PaymentDetailService } from '../shared/payment-detail.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { PaymentDetail } from '../shared/payment-detail';\n\n@Component({\n  selector: 'app-payment-details',\n  templateUrl: './payment-details.component.html',\n  styleUrls: ['./payment-details.component.css']\n})\n\nexport class PaymentDetailsComponent implements OnInit {\n\n  constructor(public paymentService: PaymentDetailService, private toastr: ToastrService) { }\n\n  ngOnInit(): void {\n    this.paymentService.refreshList();\n  }\n\n  populateForm(selectedRecord: PaymentDetail) {\n    this.paymentService.formData = Object.assign({}, selectedRecord);\n  }\n\n  onDelete(id: number) {\n    if (confirm('Are you sure to delete this record ?')) {\n      this.paymentService.deletePayment(id)\n        .subscribe({\n          next: res => {\n            this.paymentService.list = res as PaymentDetail[]\n            this.toastr.error(\"Deleted successfull !\", \"Payment Card\");\n          },\n          error: err => { console.log(err) }\n        })\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}